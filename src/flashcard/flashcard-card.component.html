<div class="w-full h-full overflow-hidden border-2 rounded-2xl flex flex-col items-center">
  <div class="flex flex-row items-center justify-between w-full px-6 pt-4">
    @if (meta && meta['category']) {
      <div class="italic opacity-50">{{ meta['category'] }}</div>
    }
    <div class="flex items-center text-sm italic opacity-50 transition-opacity duration-300"
         [class.opacity-100]="hovered">
      <mat-icon>swap_horiz</mat-icon>
      <span class="ml-2">Flip</span>
    </div>
  </div>

  <div class="grow flex flex-col items-center justify-center">
    <div class="relative min-w-[360px] min-h-[160px] select-none" [ngClass]="{ 'cursor-pointer': interactive }">
      <app-card-face
        [primary]="frontPrimary"
        [secondary]="frontSecondary"
        [lang]="frontLang"
        [needsVowelArticle] = "frontLang === 'fr' && meta?.['fr_needs_vowel_article']"
        [genus]="frontLang === 'fr' ? meta?.['fr_genus'] : meta?.['de_genus']"
        [visible]="!flipped"
      />
      <app-card-face
        [primary]="backPrimary"
        [secondary]="backSecondary"
        [lang]="backLang"
        [needsVowelArticle] = "backLang === 'fr' && meta?.['fr_needs_vowel_article']"
        [genus]="backLang === 'fr' ? meta?.['fr_genus'] : meta?.['de_genus']"
        [visible]="flipped"
      />
    </div>
  </div>

  <div class="flex flex-row items-center justify-between w-full px-6 pb-6">
    <div class="relative flex items-center h-5 select-none text-sm opacity-60">
      <div class="flex items-center gap-2 absolute left-0 transition-opacity duration-300"
           [class.opacity-100]="!flipped" [class.opacity-0]="flipped">
        <app-lang-indicator [lang]="frontLang"></app-lang-indicator>
      </div>
      <div class="flex items-center gap-2 absolute left-0 transition-opacity duration-300"
           [class.opacity-0]="!flipped" [class.opacity-100]="flipped">
        <app-lang-indicator [lang]="backLang"></app-lang-indicator>
      </div>
    </div>
  </div>
</div>
